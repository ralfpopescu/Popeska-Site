<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link href="css/style.css" rel="stylesheet" type="text/css" />
  <script src="js/TweenMax.js"></script>
  <script src="js/jquery-3.1.0.js"></script>

</head>

<body>
<div class="container">
  <div class="hero">

    <div class ="circles-container">
      <div id = "c1" class ="circle"> </div>
      <div id = "c2" class ="circle"> </div>
      <div id = "c3" class ="circle"> </div>
      <div id = "c4" class ="circle"> </div>
      <div id = "c5" class ="circle"> </div>
      <div id = "c6" class ="circle"> </div>
      <div id = "c7" class ="circle"> </div>
      <div id = "c8" class ="circle"> </div>

      <div class="largerCircle"> </div>
      <div class ="feather">
        <img src="img/feather.jpg" id = "Feather"/>
      </div>
    </div>

    <div class="logo-nav">
      <img src="img/popeska_logo.png" id = "Logo"/>
      <div class="nav">
        <div class="nav-item">
          Listen
        </div>
        <div class="nav-item">
          Connect
        </div>
        <div class="nav-item">
          Inquire
        </div>
        <div class="nav-item">
          Learn
        </div>
        <div class="icons" id = "listen-icons">
          <div class="nav-icon"><img src="img/soundcloud.png" id = "Logo"/></div>
          <div class="nav-icon"><img src="img/spotify.png" id = "Logo"/></div>
          <div class="nav-icon"><img src="img/youtube.png" id = "Logo"/></div>
        </div>
        <div class="icons" id = "connect-icons">
          <div class="nav-icon"><img src="img/twitter.png" id = "Logo"/></div>
          <div class="nav-icon"><img src="img/fb.png" id = "Logo"/></div>
          <div class="nav-icon"><img src="img/instagram.png" id = "Logo"/></div>
        </div>
      </div>
    </div>

  </div>
</div>


  <script>


$(document).ready(function(){
  var $logo = $("#Logo");
  var $container = $("#container");
  var $circles = $(".circle");
  var $circlesContainer = $(".circles-container");
  var $hero = $(".hero");
  var $logoNav = $(".logo-nav");
  var $feather = $(".feather");
  var $largerCircles = $(".largerCircle");

  fadeIn($hero,1);

  function handleLogoClick(){
    slideDown($logoNav, 100, .7);
    radialExpand($circles, 170, 1, .1);
    rotate($circlesContainer, 360, 1);
    //fadeOut($logoNav, 1);

    //$logoNav.hide();

    $feather.show();
    fadeIn($feather, 1);

  }
  function handleFeatherClick(){
    $logoNav.show();
    rotate($circlesContainer, -360, 6);
    reverseRadialExpand($circles, 170, 4, 0);
    fadeOut($feather, .5);
    fadeOut($circles, .5);
    slideUp($hero, 100, .7);
    fadeIn($logoNav,2);

  }

  function handleCircleClick($element){
      flash($element)
      //highlightCircle($element)

      var id = $element.id;
      var num_id = parseInt(id.charAt(1));

      $.ajax({
            type: 'POST',
            data: {"id":num_id},
            //contentType: 'application/json',
            url: 'http://localhost:8080/' + num_id,
            success: function(data) {
            console.log('success');
            console.log(JSON.stringify(data));
            }
       });

    }

    function highlightCircle($element){
      TweenMax.to($largerCircle, duration, {
        x: $element.position().left,
        y: $element.position().top,
        ease: Back.easeOut,
        delay: stagger * counter,
        opacity:1
      })
  }

  function flash($element){
    TweenMax.to($element, .1, {
      opacity: 0,
      ease: Linear.easeNone,
      onComplete: function(){
        TweenMax.to($element, .1, {
          opacity: 1,
          ease: Linear.easeNone
        })
      }
    })
  }


  function slideDown($element, distance, duration){
    TweenMax.to($element, duration, {
      y: distance,
      ease: Power1.easeInOut,
      onComplete:function(){
        $logoNav.hide();
      }
    })
    fadeOut($element, duration)
  }
  function slideUp($element, distance, duration){
    TweenMax.from($element, duration, {
      y: distance,
      ease: Power1.easeIn
      // onStart: function(){
      //   $logoNav.show();
      //
      // }
    })
  }
  function fadeOut($element, duration){
    TweenMax.to($element, duration, {
      opacity: 0,
      ease: Linear.easeNone

    })

  }

  function fadeIn($element, duration){
    $element.show();
    TweenMax.from($element, duration, {
      opacity: 0,
      ease: Linear.easeNone
    })

  }

  function rotate($element, rotation, duration){
    TweenMax.to($element, duration, {
      rotation: rotation,
      ease: Back.easeOut
    })
  }



  function radialExpand($elements, distance, duration, stagger){
    var counter = 0;
    var degrees = 360;
    var length = $elements.length;
    var step = degrees/length;


    $elements.each(function(){
      var $element = $(this);
      var rotation = step * counter;
      var radians = rotation / 180 * Math.PI;

      var xtrans =  Math.cos(radians) * distance;
      var ytrans =  Math.sin(radians) * distance;

      TweenMax.to($element, duration, {
        x: xtrans,
        y: ytrans,
        ease: Back.easeOut,
        delay: stagger * counter,
        opacity:1
      })
      counter++;
    });
  }
  function reverseRadialExpand($elements, distance, duration, stagger){
    var counter = 0;
    var degrees = 360;
    var length = $elements.length;
    var step = degrees/length;

    $elements.each(function(){
      var $element = $(this);
      var rotation = step * counter;
      var radians = rotation / 180 * Math.PI;

      var xtrans =  -(Math.cos(radians) * distance)/4;
      var ytrans =  -(Math.sin(radians) * distance)/4;

      TweenMax.to($element, duration, {
        x: xtrans,
        y: ytrans,
        ease: Back.easeOut,
        delay: stagger * counter,
        opacity:1
      })




      counter++;
    });

  }
  $logo.on("click", handleLogoClick);
  $feather.on("click", handleFeatherClick);

  $circles.on("click", function(){
    handleCircleClick(this)
  });



})


  </script>

</body>
</html>
